<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons1.css">
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.10/dist/katex.min.css"
    integrity="sha384-0cCFrwW/0bAk1Z/6IMgIyNU3kfTcNirlObr4WjrUU7+hZeD6ravdYJ3kPWSeC31M" crossorigin="anonymous">
</head>

<body>
  <?!= include('Style'); ?>
  <div id="fullDiv" style="margin-left: 6px; margin-right: 6px;"><!-- For side margins -->

    <button onclick="getSaved();" class="action margin">Import Saved Equation</button><br><br>

    <h2 class="margin">Math GUI Editor:</h2>
    <span id="math-field" class="margin" style="width:100%;"></span>

    <h2 class="margin">Render Settings:</h2>
    <div class="margin block" id="renderSettingsContainer">
      <label for="fontsize">Font Size (px): </label>
      <input type="number" id="fontsize" value="12" min="1" onchange="format_change()">
      <label for="inlinecheckbox" class="margin">Inline </label>
      <input type="checkbox" id="inlinecheckbox" onclick="format_change()" checked>
    </div>
    <h2>LaTeX Code:</h2>
    <div class="margin" id="texArea" style="width: 100%; flex: 1; position: relative;"></div>

    <div id="backPropogateContainer">
      <button id="manualBackPropagate" onclick="backPropagate();" class="margin">Back Propagate to GUI Editor</button>
      <p class="error" id="backPropogationError" hidden>Failed to back propogate due to MathQuill's LaTeX support.</p>
    </div>


    <h3 class="margin">Equation Preview:</h3>
    <div id="preview">
    </div>
    <button class="create margin" id="replaceBtn" hidden onclick="equationToDocument(true);">Replace Selected
      Equation</button>
    <button class="create margin" id="insertBtn" onclick="equationToDocument(false);">Insert Equation into
      Document</button>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.min.js"
      type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.min.js"
      integrity="sha512-GoORoNnxst42zE3rYPj4bNBm0Q6ZRXKNH2D9nEmNvVF/z24ywVnijAWVi/09iBiVDQVf3UlZHpzhAJIdd9BXqw=="
      crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.10/dist/katex.min.js"
      integrity="sha384-dtFDxK2tSkECx/6302Z4VN2ZRqt6Gis+b1IwCjJPrn0kMYFQT9rbtyQWg5NFWAF7"
      crossorigin="anonymous"></script>

    <?!= include('JavaScript'); ?>

</body>

</html>